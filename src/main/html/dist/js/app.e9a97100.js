(function(e){function t(t){for(var s,l,o=t[0],r=t[1],c=t[2],d=0,h=[];d<o.length;d++)l=o[d],i[l]&&h.push(i[l][0]),i[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var r=a[o];0!==i[r]&&(s=!1)}s&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},i={app:0},n=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=r;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0dfd":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("ba4c"),i=a.n(s),n=a("8c4f"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v("\n    Create New Schedule\n  ")]),a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.schedule.name,expression:"schedule.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.schedule.name},on:{input:function(t){t.target.composing||e.$set(e.schedule,"name",t.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[e._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("datepicker",{staticClass:"field",model:{value:e.schedule.startDateTime,callback:function(t){e.$set(e.schedule,"startDateTime",t)},expression:"schedule.startDateTime"}})],1)])])]),a("div",{staticClass:"field is-horizontal"},[e._m(2),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("datepicker",{staticClass:"field",model:{value:e.schedule.endDateTime,callback:function(t){e.$set(e.schedule,"endDateTime",t)},expression:"schedule.endDateTime"}})],1)])])]),a("div",{staticClass:"field is-horizontal"},[e._m(3),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("vue-timepicker",{attrs:{"minute-interval":15},model:{value:e.schedule.startTime,callback:function(t){e.$set(e.schedule,"startTime",t)},expression:"schedule.startTime"}})],1)])])]),a("div",{staticClass:"field is-horizontal"},[e._m(4),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("vue-timepicker",{attrs:{"minute-interval":15},model:{value:e.schedule.endTime,callback:function(t){e.$set(e.schedule,"endTime",t)},expression:"schedule.endTime"}})],1)])])]),a("div",{staticClass:"field is-horizontal"},[e._m(5),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.schedule.meetingLength,expression:"schedule.meetingLength"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.schedule,"meetingLength",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:10}},[e._v("10")]),a("option",{domProps:{value:15}},[e._v("15")]),a("option",{domProps:{value:20}},[e._v("20")]),a("option",{domProps:{value:30}},[e._v("30")]),a("option",{domProps:{value:60}},[e._v("60")])])]),a("p")])])]),a("div",{staticClass:"buttons"},[a("button",{staticClass:"button",on:{click:function(t){e.putSchedule()}}},[e._v("Create")]),a("br"),null!=e.url?a("button",{staticClass:"button",on:{click:function(t){e.redirect()}}},[e._v("View Schedule")]):e._e()]),null!=e.url?a("p",[e._v("Participant URL:")]):e._e(),a("a",{attrs:{href:e.url}},[e._v(e._s(e.url))]),null!=e.url?a("p",[e._v("Secret Code:"+e._s(e.uuid))]):e._e()])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Schedule Name")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Start Date")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("End Date")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Start Time")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("End Time")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Meeting Length")])])}],r=a("fa33"),c=a("517f"),u=a.n(c),d={name:"createSchedule",components:{Datepicker:r["a"],VueTimepicker:u.a},data:function(){return{url:null,uuid:null,schedule:{startTime:{HH:"08",mm:"00"},endTime:{HH:"17",mm:"00"}}}},methods:{async putSchedule(){this.schedule.startDateTime.setHours(this.schedule.startTime.HH,this.schedule.startTime.mm),this.schedule.endDateTime.setHours(this.schedule.endTime.HH,this.schedule.endTime.mm),delete this.schedule.startTime,delete this.schedule.endTime,await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/organizerSchedule",{method:"PUT",body:JSON.stringify(this.schedule),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>this.uuid=e.scheduleUuid).catch(e=>console.error("Error:",e)),this.url="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/viewSchedule?uuid="+this.uuid},redirect(){window.location.href="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/editSchedule?uuid="+this.uuid}}},h=d,m=a("2877"),v=Object(m["a"])(h,l,o,!1,null,null,null);v.options.__file="createSchedule.vue";var p=v.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v(e._s(e.schedule.name))]),a("button",{staticClass:"button",attrs:{disabled:0==e.page},on:{click:function(t){e.page--}}},[e._v("Previous Page")]),a("button",{staticClass:"button",attrs:{disabled:e.atEnd},on:{click:function(t){e.page++}}},[e._v("Next Page")]),a("button",{staticClass:"button",on:{click:function(t){e.search()}}},[e._v("Search")]),a("table",{staticClass:"table is-bordered"},[a("tbody",[a("tr",[a("th",[e._v("\n\t\t\t\t\t"+e._s(e.dateRange)+"\n\t\t\t\t")]),a("th",[e._v("\n\t\t\t\t\tMonday\n\t\t\t\t")]),a("th",[e._v("\n\t\t\t\t\tTuesday\n\t\t\t\t")]),a("th",[e._v("\n\t\t\t\t\tWednesday\n\t\t\t\t")]),a("th",[e._v("\n\t\t\t\t\tThursday\n\t\t\t\t")]),a("th",[e._v("\n\t\t\t\t\tFriday\n\t\t\t\t")])]),e._l(e.currentWeek,function(t){return a("tr",[a("td",[e._v("\n\t\t\t\t\t"+e._s(t.time)+"\n\t\t\t\t")]),e._l(t.days,function(t){return a("td",{class:{unavailable:!t.inBounds}},[t.available?a("button",{staticClass:"button",on:{click:function(a){e.createMeeting(t.day,t.time)}}},[e._v("Book")]):e._e(),t.inBounds&&t.name?a("div",[a("p",{staticClass:"has-text-centered"},[e._v(e._s(t.name))]),a("button",{on:{click:function(a){e.cancelMeeting(t)}}},[e._v("cancel")])]):e._e()])})],2)})],2)])])},g=[],b={data:function(){return{schedule:{},times:[],uuid:null,dateRange:null,newMeeting:{},page:0}},computed:{currentWeek:function(){let e=[];for(let t=0;t<this.times.length;t++)e.push({days:this.times[t].days.slice(5*this.page,5*this.page+5),time:this.times[t].time});if(e.length>0){let t=new Date(e[0].days[0].day),a=new Date(e[0].days[4].day);this.dateRange="("+(t.getMonth()+1)+"/"+t.getDate()+"-"+(a.getMonth()+1)+"/"+a.getDate()+")"}return e},atEnd:function(){return 0!=this.times.length&&this.page+1==this.times[0].days.length/5},meetings:function(){let e={};if(this.schedule.meetings)for(let t=0;t<this.schedule.meetings.length;t++)e[this.schedule.meetings[t].startTime]=this.schedule.meetings[t].participantName;return e},notAviable:function(){let e={};if(this.schedule.timesNotAvailable)for(let t=0;t<this.schedule.timesNotAvailable.length;t++)e[this.schedule.timesNotAvailable[t]]=!0;return e}},methods:{async getSchedule(){await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/participantSchedule?uuid="+this.uuid).then(e=>e.json()).then(e=>this.schedule=e).catch(e=>console.error("Error:",e))},parseSchedule(){let e=new Date(this.schedule.startDateTime),t=new Date(this.schedule.endDateTime),a=60*e.getHours()+e.getMinutes(),s=60*t.getHours()+t.getMinutes();for(let n=a;n<s;n+=this.schedule.meetingDuration){let a=[],s=new Date(this.schedule.startDateTime),l=new Date(this.schedule.endDateTime);s.setHours(0,0),l.setHours(23,59);var i=s.getDay()||7;1!==i&&s.setHours(-24*(i-1));i=l.getDay()||7;5!==i&&l.setHours(24*(5-i));while(s<=l){let i=s.getYear()+1900+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+String("0"+s.getDate()).slice(-2)+"T"+String("0"+Math.floor(n/60)).slice(-2)+":"+(n%60==0?"00":n%60==5?"05":n%60)+":"+String("0"+s.getSeconds()).slice(-2)+".000Z";s>=new Date(e).setHours(0,0,0)&&s<=new Date(t.setHours(23,59,59))?this.meetings[i]?a.push({day:s.toString(),time:n,inBounds:!0,available:!1,name:this.meetings[i]}):this.notAviable[i]?a.push({day:s.toString(),time:n,inBounds:!1,available:!1}):a.push({day:s.toString(),time:n,inBounds:!0,available:!0}):a.push({day:s.toString(),inBounds:!1,available:!1}),5==s.getDay()?s.setDate(s.getDate()+3):s.setDate(s.getDate()+1)}this.times.push({time:Math.floor(n/60)+":"+(n%60==0?"00":n%60==5?"05":n%60),days:a})}},async createMeeting(e,t){this.newMeeting.scheduleId=this.uuid;let a=prompt("Enter Name:");this.newMeeting={participantName:a},this.newMeeting.startDateTime=new Date(e),this.newMeeting.startDateTime.setUTCHours(Math.floor(t/60),t%60),await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/createMeeting?scheduleId="+this.uuid,{method:"PUT",body:JSON.stringify(this.newMeeting),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>alert("Secret code: "+e.meetingUuid)).catch(e=>console.error("Error:",e)),location.reload()},async cancelMeeting(e){let t=prompt("Meeting secret code");t==e.meetingId&&alert("correct"),await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/createMeeting?scheduleId="+this.uuid+"&meetingId="+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).catch(e=>console.error("Error:",e)),location.reload()},async search(){window.location.href="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/scheduleSearch?uuid="+this.uuid}},async created(){this.uuid=this.$route.query.uuid,await this.getSchedule(),console.log("a"),await this.parseSchedule()}},_=b,y=(a("e911"),Object(m["a"])(_,f,g,!1,null,null,null));y.options.__file="viewSchedule.vue";var C=y.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"controll"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})])])])]),e.creating&&!e.confirmAccount?a("div",{staticClass:"field is-horizontal"},[e._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})])])])]):e._e(),e.confirmAccount?e._e():a("div",{staticClass:"field is-horizontal"},[e._m(2),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})])])])]),e.confirmAccount?a("div",{staticClass:"field is-horizontal"},[e._m(3),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.code,expression:"user.code"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.user.code},on:{input:function(t){t.target.composing||e.$set(e.user,"code",t.target.value)}}})])])])]):e._e(),e.creating||e.confirmAccount?e._e():a("button",{staticClass:"button",on:{click:function(t){e.login()}}},[e._v("Login")]),e.creating||e.confirmAccount?e._e():a("button",{staticClass:"button",on:{click:function(t){e.toggleCreating()}}},[e._v("Sign up")]),e.creating&&!e.confirmAccount?a("button",{staticClass:"button",on:{click:function(t){e.signup()}}},[e._v("Create Account")]):e._e(),e.creating&&!e.confirmAccount?a("button",{staticClass:"button",on:{click:function(t){e.toggleCreating()}}},[e._v("Cancel")]):e._e(),e.confirmAccount?a("button",{staticClass:"button",on:{click:function(t){e.confirm()}}},[e._v("confirmAccount")]):e._e()])},T=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Username")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Email")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Password")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Confimation code")])])}],S=a("ca51"),D=a.n(S),k={name:"login",data:function(){return{user:{name:"bryt12",email:"brysontang@gmail.com",password:"Password123"},creating:!1,confirmAccount:!1,error:null,organizerObject:null}},methods:{toggleCreating(){this.creating=!this.creating},async signup(){await D.a.signup(this.user.name,this.user.email,this.user.password);this.confirmAccount=!0},async confirm(){await D.a.confirmAccount(this.user.name,this.user.code),this.creating=!1,this.confirmAccount=!1},async login(){let e=await D.a.login(this.user.name,this.user.password);this.$router.push({name:"createSchedule",params:{organizerObject:e}})}}},E=k,x=Object(m["a"])(E,w,T,!1,null,null,null);x.options.__file="login.vue";var M=x.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("I want all schedules that are \n\t\t"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"number"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.interval,expression:"interval"}],staticClass:"select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.interval=t.target.multiple?a:a[0]}}},[a("option",[e._v("Select Inveral")]),a("option",{attrs:{value:"day"}},[e._v("day(s)")]),a("option",{attrs:{value:"hour"}},[e._v("hour(s)")])]),e._v("\n\t old")]),a("button",{staticClass:"button",on:{click:function(t){e.search()}}},[e._v("Search")]),"day"==e.interval&&e.schedules.length>0?a("button",{staticClass:"button",on:{click:function(t){e.deleteDays()}}},[e._v("Delete Results")]):e._e(),a("table",{staticClass:"table"},[a("tbody",[e._m(0),e._l(e.schedules,function(t){return a("tr",[a("td",[e._v("\n\t\t \t\t\t"+e._s(t.name)+"\n\t\t \t\t")]),a("td",[a("button",{staticClass:"button",on:{click:function(a){e.deleteSchedule(t.id)}}},[e._v("Delete")])])])})],2)])])},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("\n\t\t \t\t\tResults\n\t\t \t\t")])])}],O={name:"sysAdminSearch",data:function(){return{interval:null,value:0,schedules:[]}},methods:{async search(){"day"==this.interval?await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/sysadmindaysearch?days="+this.value,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>this.schedules=e).catch(e=>console.error("Error:",e)):"hour"==this.interval&&await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/sysAdminHourSearch?hours="+this.value,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>this.schedules=e).catch(e=>console.error("Error:",e))},async deleteDays(){"day"==this.interval&&await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/sysadmindaysearch?days="+this.value,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>this.schedules=e).catch(e=>console.error("Error:",e))},async deleteSchedule(e){await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/organizerSchedule?scheduleId="+e,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).catch(e=>console.error("Error:",e)),location.reload()}}},z=O,$=Object(m["a"])(z,P,j,!1,null,null,null);$.options.__file="sysAdminSearch.vue";var N=$.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.uuid,expression:"uuid"}],staticClass:"input",attrs:{placeholder:"Secret Code"},domProps:{value:e.uuid},on:{input:function(t){t.target.composing||(e.uuid=t.target.value)}}}),a("button",{staticClass:"button",on:{click:function(t){e.loadPage()}}},[e._v("GO!")])])},H=[],I={name:"searchSchedule",data:function(){return{uuid:null}},methods:{loadPage(){window.location.href="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/viewSchedule?uuid="+this.uuid}}},W=I,Z=Object(m["a"])(W,A,H,!1,null,null,null);Z.options.__file="searchSchedule.vue";var B=Z.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.uuid,expression:"uuid"}],staticClass:"input",attrs:{placeholder:"Secret Code"},domProps:{value:e.uuid},on:{input:function(t){t.target.composing||(e.uuid=t.target.value)}}}),a("button",{staticClass:"button",on:{click:function(t){e.loadPage()}}},[e._v("GO!")])])},J=[],F={name:"searchScheduleOrganizer",data:function(){return{uuid:null}},methods:{loadPage(){window.location.href="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/editSchedule?uuid="+this.uuid}}},L=F,R=Object(m["a"])(L,U,J,!1,null,null,null);R.options.__file="searchScheduleOrganizer.vue";var Y=R.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v(e._s(e.schedule.name))]),a("button",{staticClass:"button",attrs:{disabled:0==e.page},on:{click:function(t){e.page--}}},[e._v("Previous Page")]),a("button",{staticClass:"button",attrs:{disabled:e.atEnd},on:{click:function(t){e.page++}}},[e._v("Next Page")]),a("button",{staticClass:"button is-danger",on:{click:function(t){e.deleteSchedule()}}},[e._v("Delete")]),a("table",{staticClass:"table is-bordered"},[a("tbody",[a("tr",[a("th",[e._v("\n\t\t\t\t\t"+e._s(e.dateRange)),a("br"),a("button",{on:{click:function(t){e.extend(-1)}}},[e._v("Extend day left")]),a("button",{on:{click:function(t){e.extend(1)}}},[e._v("Extend day right")])]),a("th",[e._v("\n\t\t\t\t\tMonday"),a("br"),a("button",{on:{click:function(t){e.openDay(0)}}},[e._v("Open")]),a("button",{on:{click:function(t){e.cancelDay(0)}}},[e._v("Close")])]),a("th",[e._v("\n\t\t\t\t\tTuesday"),a("br"),a("button",{on:{click:function(t){e.openDay(1)}}},[e._v("Open")]),a("button",{on:{click:function(t){e.cancelDay(1)}}},[e._v("Close")])]),a("th",[e._v("\n\t\t\t\t\tWednesday"),a("br"),a("button",{on:{click:function(t){e.openDay(2)}}},[e._v("Open")]),a("button",{on:{click:function(t){e.cancelDay(2)}}},[e._v("Close")])]),a("th",[e._v("\n\t\t\t\t\tThursday"),a("br"),a("button",{on:{click:function(t){e.openDay(3)}}},[e._v("Open")]),a("button",{on:{click:function(t){e.cancelDay(3)}}},[e._v("Close")])]),a("th",[e._v("\n\t\t\t\t\tFriday"),a("br"),a("button",{on:{click:function(t){e.openDay(4)}}},[e._v("Open")]),a("button",{on:{click:function(t){e.cancelDay(4)}}},[e._v("Close")])])]),e._l(e.currentWeek,function(t,s){return a("tr",[a("td",[e._v("\n\t\t\t\t\t"+e._s(t.time)+"\n\t\t\t\t\t"),a("button",{on:{click:function(t){e.openTime(s)}}},[e._v("Open")]),a("button",{on:{click:function(t){e.cancelTime(s)}}},[e._v("Close")])]),e._l(t.days,function(t){return a("td",{class:["noPadding",t.inBounds?"":"notInBounds"]},[t.inBounds&&!t.name?a("div",{staticClass:"columns noMargin",on:{click:function(a){e.toggleTimeslot(t)}}},[a("div",{class:["noselect","column",t.available?"has-background-success":"has-background-grey-light"]},[e._v("\n\t\t\t\t\t\t\tOpen\n\t\t\t\t\t\t")]),a("div",{class:["noselect","column",t.available?"has-background-grey-light":"has-background-danger"]},[e._v("\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t")])]):e._e(),t.inBounds&&t.name?a("div",[a("p",{staticClass:"has-text-centered"},[e._v(e._s(t.name))]),a("button",{on:{click:function(a){e.cancelMeeting(t)}}},[e._v("cancel")])]):e._e()])})],2)})],2)])])},q=[],V={data:function(){return{schedule:{},times:[],uuid:null,dateRange:null,newMeeting:{},page:0}},computed:{currentWeek:function(){let e=[];for(let t=0;t<this.times.length;t++)e.push({days:this.times[t].days.slice(5*this.page,5*this.page+5),time:this.times[t].time});if(e.length>0){let t=new Date(e[0].days[0].day),a=new Date(e[0].days[4].day);this.dateRange="("+(t.getMonth()+1)+"/"+t.getDate()+"-"+(a.getMonth()+1)+"/"+a.getDate()+")"}return e},atEnd:function(){return 0!=this.times.length&&this.page+1==this.times[0].days.length/5},meetings:function(){let e={};if(this.schedule.meetings)for(let t=0;t<this.schedule.meetings.length;t++)e[this.schedule.meetings[t].startTime]={name:this.schedule.meetings[t].participantName,id:this.schedule.meetings[t].id};return e},notAviable:function(){let e={};if(this.schedule.timesNotAvailable)for(let t=0;t<this.schedule.timesNotAvailable.length;t++)e[this.schedule.timesNotAvailable[t]]=!0;return e}},methods:{async getSchedule(){await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/participantSchedule?uuid="+this.uuid).then(e=>e.json()).then(e=>this.schedule=e).catch(e=>console.error("Error:",e))},parseSchedule(){let e=new Date(this.schedule.startDateTime),t=new Date(this.schedule.endDateTime),a=60*e.getHours()+e.getMinutes(),s=60*t.getHours()+t.getMinutes();for(let n=a;n<s;n+=this.schedule.meetingDuration){let a=[],s=new Date(this.schedule.startDateTime),l=new Date(this.schedule.endDateTime);s.setHours(0,0),l.setHours(23,59);var i=s.getDay()||7;1!==i&&s.setHours(-24*(i-1));i=l.getDay()||7;5!==i&&l.setHours(24*(5-i));while(s<=l){let i=s.getYear()+1900+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+String("0"+s.getDate()).slice(-2)+"T"+String("0"+Math.floor(n/60)).slice(-2)+":"+(n%60==0?"00":n%60==5?"05":n%60)+":"+String("0"+s.getSeconds()).slice(-2)+".000Z";s>=new Date(e).setHours(0,0,0)&&s<=new Date(t.setHours(23,59,59))?this.meetings[i]?a.push({day:s.toString(),time:n,inBounds:!0,available:!1,name:this.meetings[i].name,meetingId:this.meetings[i].id}):this.notAviable[i]?a.push({day:s.toString(),time:n,inBounds:!0,available:!1}):a.push({day:s.toString(),time:n,inBounds:!0,available:!0}):a.push({day:s.toString(),inBounds:!1,available:!1}),5==s.getDay()?s.setDate(s.getDate()+3):s.setDate(s.getDate()+1)}this.times.push({time:Math.floor(n/60)+":"+(n%60==0?"00":n%60==5?"05":n%60),days:a})}},async toggleTimeslot(e){e.available=!e.available;let t=new Date(e.day);t.setUTCHours(Math.floor(e.time/60),e.time%60);let a={startTime:t,status:e.available};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/toggleTimeslot?scheduleId="+this.uuid,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).catch(e=>console.error("Error:",e))},async cancelMeeting(e){console.log(e),await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/cancelorgmeeting?scheduleId="+this.uuid+"&meetingId="+e.meetingId,{method:"DELETE",headers:{"Content-Type":"application/json"}}).catch(e=>console.error("Error:",e)),location.reload()},async cancelDay(e){let t=[];for(let s=0;s<this.currentWeek.length;s++){let a=new Date(this.currentWeek[s].days[e].day),i=this.currentWeek[s].days[e].time;a.setUTCHours(Math.floor(i/60),i%60),t.push(a)}let a={scheduleId:this.uuid,times:t};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/multitoggletimeslot",{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).catch(e=>console.error("Error:",e)),location.reload()},async cancelTime(e){let t=this.currentWeek[e].days,a=[];for(let i=0;i<t.length;i++)if(t[i].inBounds){let e=new Date(t[i].day),s=t[i].time;e.setUTCHours(Math.floor(s/60),s%60),a.push(e)}let s={scheduleId:this.uuid,times:a};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/multitoggletimeslot",{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).catch(e=>console.error("Error:",e)),location.reload()},async openDay(e){let t=[];for(let s=0;s<this.currentWeek.length;s++){let a=new Date(this.currentWeek[s].days[e].day),i=this.currentWeek[s].days[e].time;a.setUTCHours(Math.floor(i/60),i%60),t.push(a)}let a={scheduleId:this.uuid,times:t};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/multitoggletimeslot",{method:"DELETE",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).catch(e=>console.error("Error:",e)),location.reload()},async openTime(e){let t=this.currentWeek[e].days,a=[];for(let i=0;i<t.length;i++)if(t[i].inBounds){let e=new Date(t[i].day),s=t[i].time;e.setUTCHours(Math.floor(s/60),s%60),a.push(e)}let s={scheduleId:this.uuid,times:a};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/multitoggletimeslot",{method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).catch(e=>console.error("Error:",e)),location.reload()},async extend(e){let t={deltaDays:e};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/extendSchedule?scheduleId="+this.uuid,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).catch(e=>console.error("Error:",e)),location.reload()},async deleteSchedule(){await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/organizerSchedule?scheduleId="+this.uuid,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).catch(e=>console.error("Error:",e)),location.reload()}},async created(){this.uuid=this.$route.query.uuid,await this.getSchedule(),this.parseSchedule()}},K=V,Q=(a("8301"),Object(m["a"])(K,G,q,!1,null,null,null));Q.options.__file="editSchedule.vue";var X=Q.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app"},[a("p",[e._v("Search open slots for "+e._s(e.schedule.name))]),e.filters.dayOfTheWeek.visible?a("div",{staticClass:"field is-horizontal"},[e._m(0),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.dayOfTheWeek.value,expression:"filters.dayOfTheWeek.value"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters.dayOfTheWeek,"value",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:1}},[e._v("Monday")]),a("option",{domProps:{value:2}},[e._v("Tuesday")]),a("option",{domProps:{value:3}},[e._v("Wednesday")]),a("option",{domProps:{value:4}},[e._v("Thursday")]),a("option",{domProps:{value:5}},[e._v("Friday")])])]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(t){e.toggleFilter("Day of Week")}}})]),a("p")])])]):e._e(),e.filters.startTime.visible?a("div",{staticClass:"field is-horizontal"},[e._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.startTime.value,expression:"filters.startTime.value"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters.startTime,"value",t.target.multiple?a:a[0])}}},e._l(e.times,function(t){return a("option",{domProps:{value:t.minutes}},[e._v(e._s(t.time))])}))]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(t){e.toggleFilter("Start Time")}}})]),a("p")])])]):e._e(),e.filters.endTime.visible?a("div",{staticClass:"field is-horizontal"},[e._m(2),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.endTime.value,expression:"filters.endTime.value"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters.endTime,"value",t.target.multiple?a:a[0])}}},e._l(e.times,function(t){return a("option",{domProps:{value:t.minutes}},[e._v(e._s(t.time))])}))]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(t){e.toggleFilter("End Time")}}})]),a("p")])])]):e._e(),e.filters.year.visible?a("div",{staticClass:"field is-horizontal"},[e._m(3),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.year.value,expression:"filters.year.value"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters.year,"value",t.target.multiple?a:a[0])}}},e._l(e.years,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])}))]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(t){e.toggleFilter("Year")}}})]),a("p")])])]):e._e(),e.filters.month.visible?a("div",{staticClass:"field is-horizontal"},[e._m(4),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.month.value,expression:"filters.month.value"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters.month,"value",t.target.multiple?a:a[0])}}},[a("option",{domProps:{value:1}},[e._v("January")]),a("option",{domProps:{value:2}},[e._v("Febuary")]),a("option",{domProps:{value:3}},[e._v("March")]),a("option",{domProps:{value:4}},[e._v("April")]),a("option",{domProps:{value:5}},[e._v("May")]),a("option",{domProps:{value:6}},[e._v("June")]),a("option",{domProps:{value:7}},[e._v("July")]),a("option",{domProps:{value:8}},[e._v("August")]),a("option",{domProps:{value:9}},[e._v("September")]),a("option",{domProps:{value:10}},[e._v("October")]),a("option",{domProps:{value:11}},[e._v("November")]),a("option",{domProps:{value:12}},[e._v("December")])])]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(t){e.toggleFilter("Month")}}})]),a("p")])])]):e._e(),e.filters.day.visible?a("div",{staticClass:"field is-horizontal"},[e._m(5),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.day.value,expression:"filters.day.value"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.filters.day,"value",t.target.multiple?a:a[0])}}},e._l(e.dates,function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])}))]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(t){e.toggleFilter("Date")}}})]),a("p")])])]):e._e(),a("button",{staticClass:"button",on:{click:function(t){e.searchSchedule()}}},[e._v("Search")]),a("div",{staticClass:"is-divider"}),a("div",{staticClass:"field is-horizontal"},[e._m(6),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.filter=t.target.multiple?a:a[0]}}},e._l(e.filters,function(t){return t.visible?e._e():a("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])}))]),a("p")])])]),a("button",{staticClass:"button",on:{click:function(t){e.toggleFilter(e.filter)}}},[e._v("Add Filter")]),a("div",{staticClass:"is-divider"}),a("table",{staticClass:"table"},[e._m(7),a("tbody",e._l(e.timeslots,function(t){return a("tr",[a("td",[e._v("\n\t\t\t\t\t\t"+e._s(t.date)+"\n\t\t\t\t\t")]),a("td",[e._v("\n\t\t\t\t\t\t"+e._s(t.time)+"\n\t\t\t\t\t")]),a("td",[a("button",{staticClass:"button",on:{click:function(a){e.createMeeting(t.date,t.time)}}},[e._v("Book")])])])}))])])},te=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Day Of Week:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Start Time:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("End Time:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Year:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Month:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Date:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[e._v("Add Filter:")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("\n\t\t\t\t\t\tDate\n\t\t\t\t\t")]),a("th",[e._v("\n\t\t\t\t\t\tTime\n\t\t\t\t\t")]),a("th")])])}],ae={name:"scheduleSearch",data:function(){return{filters:{dayOfTheWeek:{visible:!1,name:"Day of Week"},startTime:{visible:!1,name:"Start Time"},endTime:{visible:!1,name:"End Time"},year:{visible:!1,name:"Year"},month:{visible:!1,name:"Month"},day:{visible:!1,name:"Date"}},filter:null,uuid:null,schedule:{},search:{},times:[],openTimeSlots:[],years:[],dates:[],newMeeting:{}}},computed:{timeslots:function(){let e=[];for(let t=0;t<this.openTimeSlots.length;t++){let a=new Date(this.openTimeSlots[t]);e.push({date:a.getMonth()+1+"/"+a.getDate()+"/"+(a.getYear()+1900),time:a.getHours()+":"+a.getMinutes().toString().padStart(2,"0")})}return e}},methods:{async getSchedule(){await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/participantSchedule?uuid="+this.uuid).then(e=>e.json()).then(e=>this.schedule=e).catch(e=>console.error("Error:",e))},parseSchedule(){let e=new Date(this.schedule.startDateTime),t=new Date(this.schedule.endDateTime),a=60*e.getHours()+e.getMinutes(),s=60*t.getHours()+t.getMinutes();for(let i=a;i<s;i+=this.schedule.meetingDuration)this.times.push({minutes:i,time:Math.floor(i/60)+":"+(i%60==0?"00":i%60==5?"05":i%60)})},async createMeeting(e,t){this.newMeeting.scheduleId=this.uuid;let a=prompt("Enter Name:");this.newMeeting={participantName:a},this.newMeeting.startDateTime=new Date(e),this.newMeeting.startDateTime.setUTCHours(4==t.length?t.substring(0,1):t.substring(0,2),t.slice(-2)),await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/createMeeting?scheduleId="+this.uuid,{method:"PUT",body:JSON.stringify(this.newMeeting),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>alert("Secret code: "+e.meetingUuid)).catch(e=>console.error("Error:",e))},toggleFilter(e){for(let t in this.filters)this.filters[t].name==e&&(this.filters[t].visible=!this.filters[t].visible)},async searchSchedule(){let e={};for(let t in this.filters)if(this.filters[t].visible)if("Start Time"==this.filters[t].name||"End Time"==this.filters[t].name){let a=new Date,s=this.filters[t].value;a.setUTCHours(Math.floor(s/60),s%60),e[t]=a}else e[t]=this.filters[t].value;await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/participantsearch?scheduleId="+this.uuid,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>this.openTimeSlots=e).catch(e=>console.error("Error:",e))}},async created(){this.uuid=this.$route.query.uuid,await this.getSchedule(),await this.parseSchedule();let e=new Date;for(let t=e.getYear()+1900;t<=e.getYear()+2e3;t++)this.years.push(t);for(let t=1;t<=31;t++)this.dates.push(t)}},se=ae,ie=Object(m["a"])(se,ee,te,!1,null,null,null);ie.options.__file="scheduleSearch.vue";var ne=ie.exports;a("0dfd");i.a.use(n["a"]);let le=new n["a"]({routes:[{path:"/createSchedule",component:p},{path:"/viewSchedule",component:C},{path:"/login",component:M},{path:"/sysAdminSearch",component:N},{path:"/searchSchedule",component:B},{path:"/searchScheduleOrganizer",component:Y},{path:"/editSchedule",component:X},{path:"/scheduleSearch",component:ne}]});new i.a({el:"#app",router:le})},"80dd":function(e,t,a){},8301:function(e,t,a){"use strict";var s=a("b720"),i=a.n(s);i.a},b720:function(e,t,a){},ca51:function(e,t){},e911:function(e,t,a){"use strict";var s=a("80dd"),i=a.n(s);i.a}});
//# sourceMappingURL=app.e9a97100.js.map