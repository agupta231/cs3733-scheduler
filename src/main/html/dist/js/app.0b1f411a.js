(function(t){function e(e){for(var s,l,o=e[0],r=e[1],c=e[2],d=0,h=[];d<o.length;d++)l=o[d],i[l]&&h.push(i[l][0]),i[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var r=a[o];0!==i[r]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},i={app:0},n=[];function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;n.push([2,"chunk-vendors"]),a()})({0:function(t,e){},"0dfd":function(t,e,a){},1:function(t,e){},2:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("ba4c"),i=a.n(s),n=a("8c4f"),l=a("b994"),o=a.n(l);o.a.configure({Auth:{userPoolId:"us-east-2_EcD6RdoUX",region:"us-east-2",identityPoolId:"us-east-2:327926493007",userPoolWebClientId:"1096af7rbo10p6sbjc3dledg3i"}});var r={async signup(t,e,a){return await l["Auth"].signUp({username:t,password:a,attributes:{email:e}})},async confirm(t,e){return await l["Auth"].confirmSignUp(t,e)},async login(t,e){return await l["Auth"].signIn(t,e)}},c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h1",[t._v("\n    Create New Schedule\n  ")]),a("div",{staticClass:"field is-horizontal"},[t._m(0),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.schedule.name,expression:"schedule.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.schedule.name},on:{input:function(e){e.target.composing||t.$set(t.schedule,"name",e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("datepicker",{staticClass:"field",model:{value:t.schedule.startDateTime,callback:function(e){t.$set(t.schedule,"startDateTime",e)},expression:"schedule.startDateTime"}})],1)])])]),a("div",{staticClass:"field is-horizontal"},[t._m(2),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("datepicker",{staticClass:"field",model:{value:t.schedule.endDateTime,callback:function(e){t.$set(t.schedule,"endDateTime",e)},expression:"schedule.endDateTime"}})],1)])])]),a("div",{staticClass:"field is-horizontal"},[t._m(3),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("vue-timepicker",{attrs:{"minute-interval":15},model:{value:t.schedule.startTime,callback:function(e){t.$set(t.schedule,"startTime",e)},expression:"schedule.startTime"}})],1)])])]),a("div",{staticClass:"field is-horizontal"},[t._m(4),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("vue-timepicker",{attrs:{"minute-interval":15},model:{value:t.schedule.endTime,callback:function(e){t.$set(t.schedule,"endTime",e)},expression:"schedule.endTime"}})],1)])])]),a("div",{staticClass:"field is-horizontal"},[t._m(5),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.schedule.meetingLength,expression:"schedule.meetingLength"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.schedule,"meetingLength",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:10}},[t._v("10")]),a("option",{domProps:{value:15}},[t._v("15")]),a("option",{domProps:{value:20}},[t._v("20")]),a("option",{domProps:{value:30}},[t._v("30")]),a("option",{domProps:{value:60}},[t._v("60")])])]),a("p")])])]),a("div",{staticClass:"buttons"},[a("button",{staticClass:"button",on:{click:function(e){t.putSchedule()}}},[t._v("Create")]),a("br"),null!=t.url?a("button",{staticClass:"button",on:{click:function(e){t.redirect()}}},[t._v("View Schedule")]):t._e()]),null!=t.url?a("p",[t._v("Participant URL:")]):t._e(),a("a",{attrs:{href:t.url}},[t._v(t._s(t.url))]),null!=t.url?a("p",[t._v("Secret Code:"+t._s(t.uuid))]):t._e()])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Schedule Name")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Start Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("End Date")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Start Time")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("End Time")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Meeting Length")])])}],d=a("fa33"),h=a("517f"),m=a.n(h),v={name:"createSchedule",components:{Datepicker:d["a"],VueTimepicker:m.a},data:function(){return{url:null,uuid:null,schedule:{startTime:{HH:"08",mm:"00"},endTime:{HH:"17",mm:"00"}}}},methods:{async putSchedule(){this.schedule.startDateTime.setHours(this.schedule.startTime.HH,this.schedule.startTime.mm),this.schedule.endDateTime.setHours(this.schedule.endTime.HH,this.schedule.endTime.mm),delete this.schedule.startTime,delete this.schedule.endTime,await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/organizerSchedule",{method:"PUT",body:JSON.stringify(this.schedule),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>this.uuid=t.scheduleUuid).catch(t=>console.error("Error:",t)),this.url="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/viewSchedule?uuid="+this.uuid},redirect(){window.location.href="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/editSchedule?uuid="+this.uuid}}},p=v,f=a("2877"),g=Object(f["a"])(p,c,u,!1,null,null,null);g.options.__file="createSchedule.vue";var _=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h1",[t._v(t._s(t.schedule.name))]),a("button",{staticClass:"button",attrs:{disabled:0==t.page},on:{click:function(e){t.page--}}},[t._v("Previous Page")]),a("button",{staticClass:"button",attrs:{disabled:t.atEnd},on:{click:function(e){t.page++}}},[t._v("Next Page")]),a("table",{staticClass:"table is-bordered"},[a("tbody",[a("tr",[a("th",[t._v("\n\t\t\t\t\t"+t._s(t.dateRange)+"\n\t\t\t\t")]),a("th",[t._v("\n\t\t\t\t\tMonday\n\t\t\t\t")]),a("th",[t._v("\n\t\t\t\t\tTuesday\n\t\t\t\t")]),a("th",[t._v("\n\t\t\t\t\tWednesday\n\t\t\t\t")]),a("th",[t._v("\n\t\t\t\t\tThursday\n\t\t\t\t")]),a("th",[t._v("\n\t\t\t\t\tFriday\n\t\t\t\t")])]),t._l(t.currentWeek,function(e){return a("tr",[a("td",[t._v("\n\t\t\t\t\t"+t._s(e.time)+"\n\t\t\t\t")]),t._l(e.days,function(e){return a("td",{class:{unavailable:!e.inBounds}},[e.available?a("button",{staticClass:"button",on:{click:function(a){t.createMeeting(e.day,e.time)}}},[t._v("Free")]):t._e(),e.inBounds&&e.name?a("div",[a("p",{staticClass:"has-text-centered"},[t._v(t._s(e.name))]),a("button",{on:{click:function(a){t.cancelMeeting(e)}}},[t._v("cancel")])]):t._e()])})],2)})],2)])])},y=[],C={data:function(){return{schedule:{},times:[],uuid:null,dateRange:null,newMeeting:{},page:0}},computed:{currentWeek:function(){let t=[];for(let e=0;e<this.times.length;e++)t.push({days:this.times[e].days.slice(5*this.page,5*this.page+5),time:this.times[e].time});if(t.length>0){let e=new Date(t[0].days[0].day),a=new Date(t[0].days[4].day);this.dateRange="("+(e.getMonth()+1)+"/"+e.getDate()+"-"+(a.getMonth()+1)+"/"+a.getDate()+")"}return t},atEnd:function(){return 0!=this.times.length&&this.page+1==this.times[0].days.length/5},meetings:function(){let t={};for(let e=0;e<this.schedule.meetings.length;e++)t[this.schedule.meetings[e].startTime]=this.schedule.meetings[e].participantName;return t},notAviable:function(){let t={};for(let e=0;e<this.schedule.timesNotAvailable.length;e++)t[this.schedule.timesNotAvailable[e]]=!0;return t}},methods:{async getSchedule(){await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/participantSchedule?uuid="+this.uuid).then(t=>t.json()).then(t=>this.schedule=t).catch(t=>console.error("Error:",t))},parseSchedule(){let t=new Date(this.schedule.startDateTime),e=new Date(this.schedule.endDateTime),a=60*t.getHours()+t.getMinutes(),s=60*e.getHours()+e.getMinutes();for(let n=a;n<s;n+=this.schedule.meetingDuration){let a=[],s=new Date(this.schedule.startDateTime),l=new Date(this.schedule.endDateTime);console.log(s),s.setHours(0,0),l.setHours(23,59);var i=s.getDay()||7;1!==i&&s.setHours(-24*(i-1));i=l.getDay()||7;5!==i&&l.setHours(24*(5-i));while(s<=l){let i=s.getYear()+1900+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+String("0"+s.getDate()).slice(-2)+"T"+String("0"+Math.floor(n/60)).slice(-2)+":"+(n%60==0?"00":n%60==5?"05":n%60)+":"+String("0"+s.getSeconds()).slice(-2)+".000Z";s>=new Date(t).setHours(0,0,0)&&s<=new Date(e.setHours(23,59,59))?this.meetings[i]?a.push({day:s.toString(),time:n,inBounds:!0,available:!1,name:this.meetings[i]}):this.notAviable[i]?a.push({day:s.toString(),time:n,inBounds:!1,available:!1}):a.push({day:s.toString(),time:n,inBounds:!0,available:!0}):a.push({day:s.toString(),inBounds:!1,available:!1}),5==s.getDay()?s.setDate(s.getDate()+3):s.setDate(s.getDate()+1)}this.times.push({time:Math.floor(n/60)+":"+(n%60==0?"00":n%60==5?"05":n%60),days:a})}},async createMeeting(t,e){this.newMeeting.scheduleId=this.uuid;let a=prompt("Enter Name:");this.newMeeting={participantName:a},this.newMeeting.startDateTime=new Date(t),this.newMeeting.startDateTime.setUTCHours(Math.floor(e/60),e%60),await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/createMeeting?scheduleId="+this.uuid,{method:"PUT",body:JSON.stringify(this.newMeeting),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>alert("Secret code: "+t.meetingUuid)).catch(t=>console.error("Error:",t)),location.reload()},async cancelMeeting(t){let e=prompt("Meeting secret code");e==t.meetingId&&alert("correct"),await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/createMeeting?scheduleId="+this.uuid+"&meetingId="+e,{method:"DELETE",headers:{"Content-Type":"application/json"}}).catch(t=>console.error("Error:",t)),location.reload()}},async created(){this.uuid=this.$route.query.uuid,await this.getSchedule(),this.parseSchedule()}},w=C,T=(a("e911"),Object(f["a"])(w,b,y,!1,null,null,null));T.options.__file="viewSchedule.vue";var D=T.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"field is-horizontal"},[t._m(0),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"controll"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])])])]),t.creating&&!t.confirmAccount?a("div",{staticClass:"field is-horizontal"},[t._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])])])]):t._e(),t.confirmAccount?t._e():a("div",{staticClass:"field is-horizontal"},[t._m(2),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})])])])]),t.confirmAccount?a("div",{staticClass:"field is-horizontal"},[t._m(3),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.code,expression:"user.code"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.user.code},on:{input:function(e){e.target.composing||t.$set(t.user,"code",e.target.value)}}})])])])]):t._e(),t.creating||t.confirmAccount?t._e():a("button",{staticClass:"button",on:{click:function(e){t.login()}}},[t._v("Login")]),t.creating||t.confirmAccount?t._e():a("button",{staticClass:"button",on:{click:function(e){t.toggleCreating()}}},[t._v("Sign up")]),t.creating&&!t.confirmAccount?a("button",{staticClass:"button",on:{click:function(e){t.signup()}}},[t._v("Create Account")]):t._e(),t.creating&&!t.confirmAccount?a("button",{staticClass:"button",on:{click:function(e){t.toggleCreating()}}},[t._v("Cancel")]):t._e(),t.confirmAccount?a("button",{staticClass:"button",on:{click:function(e){t.confirm()}}},[t._v("confirmAccount")]):t._e()])},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Username")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Email")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Password")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Confimation code")])])}],x={name:"login",data:function(){return{user:{name:"bryt12",email:"brysontang@gmail.com",password:"Password123"},creating:!1,confirmAccount:!1,error:null,organizerObject:null}},methods:{toggleCreating(){this.creating=!this.creating},async signup(){await r.signup(this.user.name,this.user.email,this.user.password);this.confirmAccount=!0},async confirm(){await r.confirmAccount(this.user.name,this.user.code),this.creating=!1,this.confirmAccount=!1},async login(){let t=await r.login(this.user.name,this.user.password);this.$router.push({name:"createSchedule",params:{organizerObject:t}})}}},E=x,P=Object(f["a"])(E,S,k,!1,null,null,null);P.options.__file="login.vue";var M=P.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("I want all schedules that are \n\t\t"),a("input",{attrs:{type:"number"}}),a("select",{staticClass:"select"},[a("option",[t._v("Select Inveral")]),a("option",[t._v("day(s)")]),a("option",[t._v("hour(s)")])]),t._v("\n\t old")]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("th",[t._v("\n\t\t \t\t\tResults\n\t\t \t\t")])]),a("tr",[a("td")])])])])}],j={name:"sysAdminSearch"},z=j,A=Object(f["a"])(z,O,$,!1,null,null,null);A.options.__file="sysAdminSearch.vue";var N=A.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uuid,expression:"uuid"}],staticClass:"input",attrs:{placeholder:"Secret Code"},domProps:{value:t.uuid},on:{input:function(e){e.target.composing||(t.uuid=e.target.value)}}}),a("button",{staticClass:"button",on:{click:function(e){t.loadPage()}}},[t._v("GO!")])])},I=[],W={name:"searchSchedule",data:function(){return{uuid:null}},methods:{loadPage(){window.location.href="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/viewSchedule?uuid="+this.uuid}}},U=W,Z=Object(f["a"])(U,H,I,!1,null,null,null);Z.options.__file="searchSchedule.vue";var B=Z.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uuid,expression:"uuid"}],staticClass:"input",attrs:{placeholder:"Secret Code"},domProps:{value:t.uuid},on:{input:function(e){e.target.composing||(t.uuid=e.target.value)}}}),a("button",{staticClass:"button",on:{click:function(e){t.loadPage()}}},[t._v("GO!")])])},J=[],L={name:"searchScheduleOrganizer",data:function(){return{uuid:null}},methods:{loadPage(){window.location.href="https://schedulerbucket2.s3.us-east-2.amazonaws.com/index.html#/editSchedule?uuid="+this.uuid}}},R=L,Y=Object(f["a"])(R,F,J,!1,null,null,null);Y.options.__file="searchScheduleOrganizer.vue";var q=Y.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h1",[t._v(t._s(t.schedule.name))]),a("button",{staticClass:"button",attrs:{disabled:0==t.page},on:{click:function(e){t.page--}}},[t._v("Previous Page")]),a("button",{staticClass:"button",attrs:{disabled:t.atEnd},on:{click:function(e){t.page++}}},[t._v("Next Page")]),a("table",{staticClass:"table is-bordered"},[a("tbody",[a("tr",[a("th",[t._v("\n\t\t\t\t\t"+t._s(t.dateRange)),a("br"),a("button",{on:{click:function(e){t.extend(-1)}}},[t._v("Extend day left")]),a("button",{on:{click:function(e){t.extend(1)}}},[t._v("Extend day right")])]),a("th",[t._v("\n\t\t\t\t\tMonday"),a("br"),a("button",{on:{click:function(e){t.openDay(0)}}},[t._v("Open")]),a("button",{on:{click:function(e){t.cancelDay(0)}}},[t._v("Close")])]),a("th",[t._v("\n\t\t\t\t\tTuesday"),a("br"),a("button",{on:{click:function(e){t.openDay(1)}}},[t._v("Open")]),a("button",{on:{click:function(e){t.cancelDay(1)}}},[t._v("Close")])]),a("th",[t._v("\n\t\t\t\t\tWednesday"),a("br"),a("button",{on:{click:function(e){t.openDay(2)}}},[t._v("Open")]),a("button",{on:{click:function(e){t.cancelDay(2)}}},[t._v("Close")])]),a("th",[t._v("\n\t\t\t\t\tThursday"),a("br"),a("button",{on:{click:function(e){t.openDay(3)}}},[t._v("Open")]),a("button",{on:{click:function(e){t.cancelDay(3)}}},[t._v("Close")])]),a("th",[t._v("\n\t\t\t\t\tFriday"),a("br"),a("button",{on:{click:function(e){t.openDay(4)}}},[t._v("Open")]),a("button",{on:{click:function(e){t.cancelDay(4)}}},[t._v("Close")])])]),t._l(t.currentWeek,function(e,s){return a("tr",[a("td",[t._v("\n\t\t\t\t\t"+t._s(e.time)+"\n\t\t\t\t\t"),a("button",{on:{click:function(e){t.openTime(s)}}},[t._v("Open")]),a("button",{on:{click:function(e){t.cancelTime(s)}}},[t._v("Close")])]),t._l(e.days,function(e){return a("td",{class:["noPadding",e.inBounds?"":"notInBounds"]},[e.inBounds&&!e.name?a("div",{staticClass:"columns noMargin",on:{click:function(a){t.toggleTimeslot(e)}}},[a("div",{class:["noselect","column",e.available?"has-background-success":"has-background-grey-light"]},[t._v("\n\t\t\t\t\t\t\tOpen\n\t\t\t\t\t\t")]),a("div",{class:["noselect","column",e.available?"has-background-grey-light":"has-background-danger"]},[t._v("\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t")])]):t._e(),e.inBounds&&e.name?a("div",[a("p",{staticClass:"has-text-centered"},[t._v(t._s(e.name))]),a("button",{on:{click:function(a){t.cancelMeeting(e)}}},[t._v("cancel")])]):t._e()])})],2)})],2)])])},V=[],X={data:function(){return{schedule:{},times:[],uuid:null,dateRange:null,newMeeting:{},page:0}},computed:{currentWeek:function(){let t=[];for(let e=0;e<this.times.length;e++)t.push({days:this.times[e].days.slice(5*this.page,5*this.page+5),time:this.times[e].time});if(t.length>0){let e=new Date(t[0].days[0].day),a=new Date(t[0].days[4].day);this.dateRange="("+(e.getMonth()+1)+"/"+e.getDate()+"-"+(a.getMonth()+1)+"/"+a.getDate()+")"}return t},atEnd:function(){return 0!=this.times.length&&this.page+1==this.times[0].days.length/5},meetings:function(){let t={};for(let e=0;e<this.schedule.meetings.length;e++)t[this.schedule.meetings[e].startTime]={name:this.schedule.meetings[e].participantName,id:this.schedule.meetings[e].id};return t},notAviable:function(){let t={};for(let e=0;e<this.schedule.timesNotAvailable.length;e++)t[this.schedule.timesNotAvailable[e]]=!0;return t}},methods:{async getSchedule(){await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/participantSchedule?uuid="+this.uuid).then(t=>t.json()).then(t=>this.schedule=t).catch(t=>console.error("Error:",t))},parseSchedule(){let t=new Date(this.schedule.startDateTime),e=new Date(this.schedule.endDateTime),a=60*t.getHours()+t.getMinutes(),s=60*e.getHours()+e.getMinutes();for(let n=a;n<s;n+=this.schedule.meetingDuration){let a=[],s=new Date(this.schedule.startDateTime),l=new Date(this.schedule.endDateTime);s.setHours(0,0),l.setHours(23,59);var i=s.getDay()||7;1!==i&&s.setHours(-24*(i-1));i=l.getDay()||7;5!==i&&l.setHours(24*(5-i));while(s<=l){let i=s.getYear()+1900+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+String("0"+s.getDate()).slice(-2)+"T"+String("0"+Math.floor(n/60)).slice(-2)+":"+(n%60==0?"00":n%60==5?"05":n%60)+":"+String("0"+s.getSeconds()).slice(-2)+".000Z";s>=new Date(t).setHours(0,0,0)&&s<=new Date(e.setHours(23,59,59))?this.meetings[i]?a.push({day:s.toString(),time:n,inBounds:!0,available:!1,name:this.meetings[i].name,meetingId:this.meetings[i].id}):this.notAviable[i]?a.push({day:s.toString(),time:n,inBounds:!0,available:!1}):a.push({day:s.toString(),time:n,inBounds:!0,available:!0}):a.push({day:s.toString(),inBounds:!1,available:!1}),5==s.getDay()?s.setDate(s.getDate()+3):s.setDate(s.getDate()+1)}this.times.push({time:Math.floor(n/60)+":"+(n%60==0?"00":n%60==5?"05":n%60),days:a})}},async toggleTimeslot(t){t.available=!t.available;let e=new Date(t.day);e.setUTCHours(Math.floor(t.time/60),t.time%60);let a={startTime:e,status:t.available};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/toggleTimeslot?scheduleId="+this.uuid,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).catch(t=>console.error("Error:",t))},async cancelMeeting(t){console.log(t),await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/cancelorgmeeting?scheduleId="+this.uuid+"&meetingId="+t.meetingId,{method:"DELETE",headers:{"Content-Type":"application/json"}}).catch(t=>console.error("Error:",t))},async cancelDay(t){let e=[];for(let s=0;s<this.currentWeek.length;s++){let a=new Date(this.currentWeek[s].days[t].day),i=this.currentWeek[s].days[t].time;a.setUTCHours(Math.floor(i/60),i%60),e.push(a)}let a={scheduleId:this.uuid,times:e};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/multitoggletimeslot",{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).catch(t=>console.error("Error:",t)),location.reload()},async cancelTime(t){let e=this.currentWeek[t].days,a=[];for(let i=0;i<e.length;i++)if(e[i].inBounds){let t=new Date(e[i].day),s=e[i].time;t.setUTCHours(Math.floor(s/60),s%60),a.push(t)}let s={scheduleId:this.uuid,times:a};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/multitoggletimeslot",{method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).catch(t=>console.error("Error:",t)),location.reload()},async openDay(t){let e=[];for(let s=0;s<this.currentWeek.length;s++){let a=new Date(this.currentWeek[s].days[t].day),i=this.currentWeek[s].days[t].time;a.setUTCHours(Math.floor(i/60),i%60),e.push(a)}let a={scheduleId:this.uuid,times:e};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/multitoggletimeslot",{method:"DELETE",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).catch(t=>console.error("Error:",t)),location.reload()},async openTime(t){let e=this.currentWeek[t].days,a=[];for(let i=0;i<e.length;i++)if(e[i].inBounds){let t=new Date(e[i].day),s=e[i].time;t.setUTCHours(Math.floor(s/60),s%60),a.push(t)}let s={scheduleId:this.uuid,times:a};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/multitoggletimeslot",{method:"DELETE",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).catch(t=>console.error("Error:",t)),location.reload()},async extend(t){let e={deltaDays:t};await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/extendSchedule?scheduleId="+this.uuid,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).catch(t=>console.error("Error:",t)),location.reload()}},async created(){this.uuid=this.$route.query.uuid,await this.getSchedule(),this.parseSchedule()}},K=X,Q=(a("8301"),Object(f["a"])(K,G,V,!1,null,null,null));Q.options.__file="editSchedule.vue";var tt=Q.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("p",[t._v("Search open slots for "+t._s(t.schedule.name))]),t.filters.dayOfWeek.visible?a("div",{staticClass:"field is-horizontal"},[t._m(0),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.dayOfWeek.value,expression:"filters.dayOfWeek.value"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.dayOfWeek,"value",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:0}},[t._v("Monday")]),a("option",{domProps:{value:1}},[t._v("Tuesday")]),a("option",{domProps:{value:2}},[t._v("Wednesday")]),a("option",{domProps:{value:3}},[t._v("Thursday")]),a("option",{domProps:{value:4}},[t._v("Friday")])])]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(e){t.toggleFilter("Day of Week")}}})]),a("p")])])]):t._e(),t.filters.startTime.visible?a("div",{staticClass:"field is-horizontal"},[t._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.startTime.value,expression:"filters.startTime.value"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.startTime,"value",e.target.multiple?a:a[0])}}},t._l(t.times,function(e){return a("option",{domProps:{value:e.minutes}},[t._v(t._s(e.time))])}))]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(e){t.toggleFilter("Start Time")}}})]),a("p")])])]):t._e(),t.filters.endTime.visible?a("div",{staticClass:"field is-horizontal"},[t._m(2),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.endTime.value,expression:"filters.endTime.value"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.endTime,"value",e.target.multiple?a:a[0])}}},t._l(t.times,function(e){return a("option",{domProps:{value:e.minutes}},[t._v(t._s(e.time))])}))]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(e){t.toggleFilter("End Time")}}})]),a("p")])])]):t._e(),t.filters.year.visible?a("div",{staticClass:"field is-horizontal"},[t._m(3),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.year.value,expression:"filters.year.value"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.year,"value",e.target.multiple?a:a[0])}}},t._l(t.years,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(e){t.toggleFilter("Year")}}})]),a("p")])])]):t._e(),t.filters.month.visible?a("div",{staticClass:"field is-horizontal"},[t._m(4),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.month.value,expression:"filters.month.value"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.month,"value",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:1}},[t._v("January")]),a("option",{domProps:{value:2}},[t._v("Febuary")]),a("option",{domProps:{value:3}},[t._v("March")]),a("option",{domProps:{value:4}},[t._v("April")]),a("option",{domProps:{value:5}},[t._v("May")]),a("option",{domProps:{value:6}},[t._v("June")]),a("option",{domProps:{value:7}},[t._v("July")]),a("option",{domProps:{value:8}},[t._v("August")]),a("option",{domProps:{value:9}},[t._v("September")]),a("option",{domProps:{value:10}},[t._v("October")]),a("option",{domProps:{value:11}},[t._v("November")]),a("option",{domProps:{value:12}},[t._v("December")])])]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(e){t.toggleFilter("Month")}}})]),a("p")])])]):t._e(),t.filters.date.visible?a("div",{staticClass:"field is-horizontal"},[t._m(5),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.date.value,expression:"filters.date.value"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.filters.date,"value",e.target.multiple?a:a[0])}}},t._l(t.dates,function(e){return a("option",{domProps:{value:e}},[t._v(t._s(e))])}))]),a("a",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-ban",on:{click:function(e){t.toggleFilter("Date")}}})]),a("p")])])]):t._e(),a("button",{staticClass:"button",on:{click:function(e){t.searchSchedule()}}},[t._v("Search")]),a("div",{staticClass:"is-divider"}),a("div",{staticClass:"field is-horizontal"},[t._m(6),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"}),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.filter=e.target.multiple?a:a[0]}}},t._l(t.filters,function(e){return e.visible?t._e():a("option",{domProps:{value:e.name}},[t._v(t._s(e.name))])}))]),a("p")])])]),a("button",{staticClass:"button",on:{click:function(e){t.toggleFilter(t.filter)}}},[t._v("Add Filter")]),a("div",{staticClass:"is-divider"}),a("table",{staticClass:"table"},[t._m(7),a("tbody",t._l(t.timeslots,function(e){return a("tr",[a("td",[t._v("\n\t\t\t\t\t\t"+t._s(e.date)+"\n\t\t\t\t\t")]),a("td",[t._v("\n\t\t\t\t\t\t"+t._s(e.time)+"\n\t\t\t\t\t")]),a("td",[a("button",{on:{click:function(e){t.createMeeting(t.timeSlot.day,t.timeSlot.time)}}})])])}))])])},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Day Of Week:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Start Time:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("End Time:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Year:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Month:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Date:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Add Filter:")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("\n\t\t\t\t\t\tDate\n\t\t\t\t\t")]),a("th",[t._v("\n\t\t\t\t\t\tTime\n\t\t\t\t\t")]),a("th")])])}],st={name:"scheduleSearch",data:function(){return{filters:{dayOfWeek:{visible:!1,name:"Day of Week"},startTime:{visible:!1,name:"Start Time"},endTime:{visible:!1,name:"End Time"},year:{visible:!1,name:"Year"},month:{visible:!1,name:"Month"},date:{visible:!1,name:"Date"}},filter:null,uuid:null,schedule:{},search:{},times:[],timeslots:[],years:[],dates:[],newMeeting:{}}},methods:{async getSchedule(){await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/participantSchedule?uuid="+this.uuid).then(t=>t.json()).then(t=>this.schedule=t).catch(t=>console.error("Error:",t))},parseSchedule(){let t=new Date(this.schedule.startDateTime),e=new Date(this.schedule.endDateTime),a=60*t.getHours()+t.getMinutes(),s=60*e.getHours()+e.getMinutes();for(let i=a;i<s;i+=this.schedule.meetingDuration)this.times.push({minutes:i,time:Math.floor(i/60)+":"+(i%60==0?"00":i%60==5?"05":i%60)})},async createMeeting(t,e){this.newMeeting.scheduleId=this.uuid;let a=prompt("Enter Name:");this.newMeeting={participantName:a},this.newMeeting.startDateTime=new Date(t),this.newMeeting.startDateTime.setUTCHours(Math.floor(e/60),e%60),await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/createMeeting?scheduleId="+this.uuid,{method:"PUT",body:JSON.stringify(this.newMeeting),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>alert("Secret code: "+t.meetingUuid)).catch(t=>console.error("Error:",t)),location.reload()},toggleFilter(t){for(let e in this.filters)this.filters[e].name==t&&(this.filters[e].visible=!this.filters[e].visible)},async searchSchedule(){let t={};for(let e in this.filters)this.filters[e].visible&&(t[e]=this.filters[e].value);await fetch("https://wasu526ybc.execute-api.us-east-2.amazonaws.com/Zeta/searchSchedule?scheduleId="+this.uuid,{method:"GET",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(t=>t.json()).then(t=>this.timeslots=t).catch(t=>console.error("Error:",t))}},async created(){this.uuid=this.$route.query.uuid,await this.getSchedule(),await this.parseSchedule();let t=new Date;for(let e=t.getYear()+1900;e<=t.getYear()+2e3;e++)this.years.push(e);for(let e=1;e<=31;e++)this.dates.push(e)}},it=st,nt=Object(f["a"])(it,et,at,!1,null,null,null);nt.options.__file="scheduleSearch.vue";var lt=nt.exports;a("0dfd");i.a.use(n["a"]);let ot=new n["a"]({routes:[{path:"/createSchedule",component:_},{path:"/viewSchedule",component:D},{path:"/login",component:M},{path:"/sysAdminSearch",component:N},{path:"/searchSchedule",component:B},{path:"/searchScheduleOrganizer",component:q},{path:"/editSchedule",component:tt},{path:"/scheduleSearch",component:lt}]});new i.a({el:"#app",router:ot,cognitoAuth:r})},"80dd":function(t,e,a){},8301:function(t,e,a){"use strict";var s=a("b720"),i=a.n(s);i.a},b720:function(t,e,a){},e911:function(t,e,a){"use strict";var s=a("80dd"),i=a.n(s);i.a}});
//# sourceMappingURL=app.0b1f411a.js.map